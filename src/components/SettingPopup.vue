<script setup lang="ts">
import { onMounted, ref } from 'vue'
import Popup from './Popup.vue'

const popupRef = ref<InstanceType<typeof Popup>>()

const paths = ['åŸºç¡€', 'AIæ¥å£', 'æç¤ºè¯', 'å¿«æ·é”®', 'å…³äº'] as const

const defPath = ref<typeof paths[number]>(paths[0])

onMounted(() => {
  popupRef.value?.show()
})

defineExpose({
  show: () => popupRef.value.show()
})
</script>

<template>
  <Popup title="âš™ï¸ è½¯ä»¶é…ç½®" ref="popupRef" mask-closable>
    <div class="setting">
      <div class="setting-titles">
        <div v-for="title in paths" :key="title" class="setting-title" @click="defPath = title" :class="{ selected: defPath === title }">
          {{ title }}
        </div>
      </div>
      <div class="setting-content">
        <div class="base-setting" v-if="defPath === paths[0]">
          <div class="title">{{ paths[0] }}</div>
          <div class="content">
            <label class="sitem" for="I0L9K">
              <span>åŸºå‡†å°ºå¯¸ï¼Œå½±å“å…¨å±€æ–‡å­—å’ŒUI</span>
              <input id="I0L9K" type="number">
              <span>px</span>
            </label>
            <label class="sitem" for="F0U3Y">
              <span>ç¼–è¾‘åŒºæ–‡å­—å°ºå¯¸ï¼Œè¯¥å€¼ä¸ºåŸºå‡†å°ºå¯¸çš„å€æ•°</span>
              <input id="F0U3Y" type="number">
              <span>rem</span>
            </label>
            <label class="sitem" for="B7T3O">
              <span>è‡ªåŠ¨ä¿å­˜é—´éš”ä¸º</span>
              <input type="number" id="B7T3O">
              <span>ç§’ï¼Œé»˜è®¤3ç§’</span>
            </label>
            <label class="sitem" for="Q3F8Z">
              <span>å­—ä½“è¡Œé«˜ï¼Œé»˜è®¤ä¸º2.5å€å­—ä½“é«˜åº¦ï¼Œè°ƒæ•´è¡Œé«˜ä¸ºï¼š</span>
              <input type="number" id="Q3F8Z">
              <span>å€å­—ä½“é«˜åº¦</span>
            </label>
            <label class="sitem" for="P7W5H">
              <input id="P7W5H" type="checkbox">
              <span>æ®µé—´è·ï¼Œå¼€å¯åï¼Œæ®µè½ä¹‹é—´ä¼šæœ‰ä¸€ä¸ªä¸å¯ç¼–è¾‘çš„å½“å‰è¡Œé«˜çš„ç©ºç™½è¡Œ</span>
            </label>
            <div class="sitem">
              <span>çªå‡ºæ–‡ç« ä¸­å®ä½“çš„æ ·å¼</span>
              <label class="sitem" for="K1O1L">
                <input id="K1O1L" type="checkbox">
                <span>ä¸‹åˆ’çº¿</span>
                <input type="color">
              </label>
              <label class="sitem" for="I3I9S">
                <input id="I3I9S" type="checkbox">
                <span>èƒŒæ™¯è‰²</span>
                <input type="color">
              </label>
              <label class="sitem" for="Q3L3C">
                <input id="Q3L3C" type="checkbox">
                <span>æ–‡å­—è‰²</span>
                <input type="color">
              </label>
            </div>
            <label class="sitem" for="U5K7L">
              <input id="U5K7L" type="checkbox">
              <span>å¤åˆ¶ç²˜è´´æ—¶ä½¿ç”¨çº¯æ–‡æœ¬ï¼Œå¼€å¯åï¼Œå¤åˆ¶æ–‡ç« ä¸­çš„å®ä½“èŠ‚ç‚¹ï¼Œç²˜è´´åå°†å˜æ›´ä¸ºæ™®é€šæ–‡æœ¬</span>
            </label>
            <label class="sitem" for="L7V1A">
              <input id="L7V1A" type="checkbox">
              <span>æ§åˆ¶æ’å…¥å®ä½“æ—¶ï¼Œæ˜¯å¦æ’å…¥æ™®é€šæ–‡æœ¬ï¼Œä¸å‹¾é€‰æ—¶æ’å…¥çš„æ˜¯å®ä½“èŠ‚ç‚¹ï¼Œå®ä½“å†…å®¹å°†åŒæ­¥æ›´æ–°æ–‡ç« ä¸­çš„èŠ‚ç‚¹</span>
            </label>
            <div class="sitem" for="L7V1A">
              <span>é…ç½®èƒŒæ™¯ï¼Œ</span>
              <label class="sitem" for="R8X7T">
                <input id="R8X7T" type="checkbox">
                <span>ç¼–è¾‘åŒºå¯ç”¨ç½‘æ ¼çº¿</span>
                <select>
                  <option value="">è™šçº¿</option>
                  <option value="">å®çº¿</option>
                </select>
              </label>
              <label class="sitem" for="K1T8A">
                <input id="K1T8A" type="checkbox">
                <span>ç¼–è¾‘ç•Œé¢å¯ç”¨å›¾ç‰‡èƒŒæ™¯</span>
                <button class="selete-image-button">ğŸ–¼ï¸ é€‰æ‹©å›¾ç‰‡</button>
              </label>
            </div>
          </div>
        </div>

        <div class="ai-interface-setting" v-else-if="defPath === paths[1]">
          <div class="title">{{ paths[1] }}</div>
          <div class="content"></div>
        </div>

        <div class="prompt-setting" v-else-if="defPath === paths[2]">
          <div class="title">{{ paths[2] }}</div>
          <div class="content"></div>
        </div>

        <div class="shortcut-key-setting" v-else-if="defPath === paths[3]">
          <div class="title">{{ paths[3] }}</div>
          <div class="content"></div>
        </div>

        <div class="regarding-setting" v-else-if="defPath === paths[4]">
          <div class="title">{{ paths[4] }}</div>
          <div class="content"></div>
        </div>
      </div>
    </div>
  </Popup>
</template>

<style>
.setting {
  width: 47.5rem;
  height: 31.25rem;
  display: flex;
}

.setting .selected {
  background-color: var(--background-tertiary);
  color: var(--primary)
}

.setting-titles {
  display: flex;
  flex-direction: column;
  width: 6rem;
  background-color: var(--background-secondary);
  margin: .25rem;
}

.setting-titles>div {
  padding: .5rem 1rem;
  cursor: pointer;
  font-size: .8rem;
  text-align: right;
}

.setting-titles>div:hover {
  background-color: var(--background-tertiary);
}

.setting-content {
  flex: 1;
  width: 0;
  margin: .25rem .25rem .25rem 0;
}

.setting-content>div {
  width: 100%;
  height: 100%;
  display: flex;
  flex-direction: column;
}

.setting-content .title {
  width: 100%;
  padding: .5rem;
  font-size: .8rem;
  border-bottom: 1px solid var(--border-color);
}

.setting-content .content {
  flex: 1;
  height: 0;
  overflow-y: auto;
  margin: .5rem .5rem .25rem .5rem;
}

.sitem {
  display: flex;
  height: 3rem;
  align-items: center;
  font-size: .8rem;
}

label.sitem {
  cursor: pointer;
}

.sitem>[type="checkbox"] {
  margin-right: 1rem;
}

.sitem>input[type="number"] {
  width: 2.2rem;
  border: 1px solid var(--border-color);
  margin: 0 .5rem;
  padding: .25rem .5rem;
  border-radius: .25rem;
}

.sitem>.sitem {
  margin-left: .5rem;
}

.sitem>.sitem>[type="checkbox"] {
  margin-right: .25rem;
}

.selete-image-button {
  max-width: 260px;
  white-space: nowrap;
  overflow: hidden;
  text-overflow: ellipsis;
}

.sitem>.sitem button {
  margin-left: .25rem;
  border-bottom: 1px solid var(--success);
  line-height: 1rem;
}

.sitem select {
  background-color: var(--background-primary);
  border: 1px solid var(--border-color);
  margin-left: .25rem;
  border-radius: .25rem;
}
</style>

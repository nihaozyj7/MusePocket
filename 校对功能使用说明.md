# 校对功能使用说明

## 功能介绍

校对功能是一个基于 AI 的智能文本校对工具，可以帮助您：

- ✅ 检测拼写错误
- ✅ 检查标点符号使用
- ✅ 发现语法错误
- ✅ 提示用词不当
- ✅ 优化表达方式
- ✅ 检查逻辑连贯性

## 使用步骤

### 1. 配置 AI 模型（首次使用）

在使用校对功能前，需要先配置 AI 模型：

1. 点击工具栏的 **"⚙️ 配置"** 按钮
2. 选择 **"AI接口"** 标签
3. 添加您的 AI 模型配置：
   - **模型名称**：如 `qwen-plus`
   - **请求地址**：如 `https://dashscope.aliyuncs.com/compatible-mode/v1/chat/completions`
   - **密钥**：您的 API Key
   - **备注**：方便识别的描述信息

### 2. 打开校对工具

1. 在编辑视图中，点击右侧侧边栏的 **"✅ 校对"** 按钮
2. 校对工具面板将在右侧展开

### 3. 开始校对

1. **选择 AI 模型**：从下拉列表中选择已配置的 AI 模型
2. **配置提示词**（可选）：
   - 默认会使用内置的校对提示词
   - 您也可以在"提示词"设置中添加自定义的校对提示词
   - 支持编辑当前使用的提示词
3. **点击"开始校对"按钮**
4. 等待 AI 分析完成

### 4. 查看校对结果

校对完成后，会显示两个标签页：

#### 纠错标签页
- 显示所有检测到的问题
- 问题分为三个等级：
  - ❌ **错误**：明显的错误，建议修改
  - ⚠️ **警告**：需要注意的问题
  - 💡 **建议**：优化建议

每个问题显示：
- 问题类别（如：拼写错误、标点符号等）
- 发现的原文
- 建议修改的内容
- 修改原因说明

#### 预览标签页
- 显示 AI 返回的原始内容
- 用于调试和查看完整响应

### 5. 应用修改

对于检测到的问题，您可以：

- **单个修改**：点击问题右侧的"修改"按钮
- **批量修改**：
  1. 勾选要修改的问题
  2. 点击顶部的"全部修改"按钮
- **忽略问题**：点击"忽略"按钮跳过该问题

### 6. 重新检测

修改后，可以点击"开始校对"按钮重新检测，确保所有问题都已解决。

## 高级功能

### 自定义校对提示词

您可以在 **"⚙️ 配置"** → **"提示词"** 中添加自定义的校对提示词：

1. 点击"添加提示词"
2. 输入提示词标题（建议包含"校对"关键字）
3. 输入提示词内容
4. 保存后，在校对工具中会自动使用该提示词

### 校对提示词示例

```
你是一个专业的文本校对专家。请检查以下文本中的：

1. 错别字和拼写错误
2. 标点符号使用错误
3. 语法错误
4. 用词不当
5. 表达不清晰的地方

请以JSON数组格式返回问题列表。
```

## 注意事项

1. **需要网络连接**：校对功能需要调用 AI API，请确保网络连接正常
2. **API 费用**：使用 AI 服务可能产生费用，请注意控制使用频率
3. **文本长度限制**：过长的文本可能超出 AI 模型的上下文限制，建议分段校对
4. **准确性**：AI 校对仅供参考，最终修改决定权在您
5. **保护隐私**：请勿使用包含敏感信息的文本进行校对

## 故障排除

### 校对失败
- 检查 AI 模型配置是否正确
- 检查 API Key 是否有效
- 检查网络连接
- 查看控制台错误信息

### 没有检测到问题
- 文本可能确实没有问题
- 尝试调整提示词，使其更具体
- 检查 AI 返回的原始内容（预览标签页）

### 修改后文本格式异常
- 这是已知问题，正在优化中
- 建议先保存当前内容再进行批量修改
- 可以使用撤销功能（Ctrl+Z）恢复

## 快捷提示

- 💡 先少量测试，确认效果后再批量使用
- 💡 定期保存文档，避免意外丢失
- 💡 结合人工审核，不要完全依赖 AI
- 💡 针对不同类型文本，使用不同的校对提示词

---

享受智能校对带来的便利！✨
